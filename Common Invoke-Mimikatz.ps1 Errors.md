# Common Invoke-Mimikatz.ps1 Errors

Invoke-Mimikatz is a powershell script that can be used to dump credentials from lsass (LocalSecurityAuthority) memory . This can also dump local credentials from the SAM registry.

### ERROR kuhl_m_sekurlsa_acquireLSA ; Handle on memory (0x00000005)**
![image](https://user-images.githubusercontent.com/90155329/132248131-a105c60c-74cd-40e5-8781-1f9ff4e745eb.png)


**Reasons for this error:**
1. My current user does not have local admin
2. I am not running in an elevated shell
3. User Account Controle is enabled. This runs applications as a regular user, and will require a prompt everytime an application runs as SYSTEM

**In this case, I was not running in an elevated shell. I attempted the credential dump again with an admin level shell and received a new error**


### ERROR kuhl_m_sekurlsa_acquireLSA ; Logon list
![ScreenShot](https://user-images.githubusercontent.com/90155329/132247514-9d3e9a98-1aad-4f12-b74b-76f50fbb5963.png)

**Reasons for this error:**

1. Executing an old version of Mimikatz on a new Windows 10 machine.

### I downloaded a recent version of Mimikatz and was able to dump the lsass memory

![[Pasted image 20210906013223.png]]
![image](https://user-images.githubusercontent.com/90155329/132248286-0ddcc543-9113-4b11-b3a9-582466ed77bb.png)


